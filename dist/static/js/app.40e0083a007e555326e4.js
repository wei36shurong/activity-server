webpackJsonp([1],{"+3N7":function(t,e){},0:function(t,e){},"0+7K":function(t,e){},"2ODB":function(t,e){},"8WoC":function(t,e){},"Caf/":function(t,e){},HfaK:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAAGkCAIAAADxLsZiAAAFxklEQVR4nOzXQW3DQBBA0aYygYAKj0ALD4PyQughUq+9pLuy/3sEZqSRvtfbGOML4Oq+Vy8AMIPYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCdvqBU7seO2rV/i8+/OxeoVPciN+edkBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZAgdkCC2AEJYgckiB2QIHZAgtgBCWIHJIgdkCB2QILYAQliBySIHZBwG2PMmXS89jmDgHO5Px8TpmwTZlzYnCNNc8kPkhvx5jcWSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSttULnNvx2levwB/ciDcvOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgITbGGP1DgD/zssOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7IAEsQMSxA5IEDsgQeyABLEDEsQOSBA7IEHsgASxAxLEDkgQOyBB7ICEnwAAAP//1fMfUwZOpTwAAAAASUVORK5CYII="},NHnr:function(t,e,n){"use strict";function r(t){return t.then(function(t){return[null,t]}).catch(function(t){return[t]})}function s(t){this.state=Mt,this.value=void 0,this.deferred=[];var e=this;try{t(function(t){e.resolve(t)},function(t){e.reject(t)})}catch(t){e.reject(t)}}function i(t,e){t instanceof Promise?this.promise=t:this.promise=new Promise(t.bind(e)),this.context=e}function o(t){return t?t.replace(/^\s*|\s*$/g,""):""}function a(t){return t?t.toLowerCase():""}function c(t){return"string"==typeof t}function u(t){return"function"==typeof t}function l(t){return null!==t&&"object"==typeof t}function h(t){return l(t)&&Object.getPrototypeOf(t)==Object.prototype}function d(t,e,n){var r=i.resolve(t);return arguments.length<2?r:r.then(e,n)}function f(t,e,n){return n=n||{},u(n)&&(n=n.call(e)),g(t.bind({$vm:e,$options:n}),t,{$options:n})}function p(t,e){var n,r;if(Ft(t))for(n=0;n<t.length;n++)e.call(t[n],t[n],n);else if(l(t))for(r in t)Vt.call(t,r)&&e.call(t[r],t[r],r);return t}function g(t){return Zt.call(arguments,1).forEach(function(e){m(t,e,!0)}),t}function m(t,e,n){for(var r in e)n&&(h(e[r])||Ft(e[r]))?(h(e[r])&&!h(t[r])&&(t[r]={}),Ft(e[r])&&!Ft(t[r])&&(t[r]=[]),m(t[r],e[r],n)):void 0!==e[r]&&(t[r]=e[r])}function v(t,e,n){var r=function(t){var e=["+","#",".","/",";","?","&"],n=[];return{vars:n,expand:function(r){return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(t,s,i){if(s){var o=null,a=[];if(-1!==e.indexOf(s.charAt(0))&&(o=s.charAt(0),s=s.substr(1)),s.split(/,/g).forEach(function(t){var e=/([^:\*]*)(?::(\d+)|(\*))?/.exec(t);a.push.apply(a,function(t,e,n,r){var s=t[n],i=[];if(y(s)&&""!==s)if("string"==typeof s||"number"==typeof s||"boolean"==typeof s)s=s.toString(),r&&"*"!==r&&(s=s.substring(0,parseInt(r,10))),i.push(E(e,s,A(e)?n:null));else if("*"===r)Array.isArray(s)?s.filter(y).forEach(function(t){i.push(E(e,t,A(e)?n:null))}):Object.keys(s).forEach(function(t){y(s[t])&&i.push(E(e,s[t],t))});else{var o=[];Array.isArray(s)?s.filter(y).forEach(function(t){o.push(E(e,t))}):Object.keys(s).forEach(function(t){y(s[t])&&(o.push(encodeURIComponent(t)),o.push(E(e,s[t].toString())))}),A(e)?i.push(encodeURIComponent(n)+"="+o.join(",")):0!==o.length&&i.push(o.join(","))}else";"===e?i.push(encodeURIComponent(n)):""!==s||"&"!==e&&"?"!==e?""===s&&i.push(""):i.push(encodeURIComponent(n)+"=");return i}(r,o,e[1],e[2]||e[3])),n.push(e[1])}),o&&"+"!==o){var c=",";return"?"===o?c="&":"#"!==o&&(c=o),(0!==a.length?o:"")+a.join(c)}return a.join(",")}return I(i)})}}}(t),s=r.expand(e);return n&&n.push.apply(n,r.vars),s}function y(t){return void 0!==t&&null!==t}function A(t){return";"===t||"&"===t||"?"===t}function E(t,e,n){return e="+"===t||"#"===t?I(e):encodeURIComponent(e),n?encodeURIComponent(n)+"="+e:e}function I(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t)),t}).join("")}function B(t,e){var n,r=this||{},s=t;return c(t)&&(s={url:t,params:e}),s=g({},B.options,r.$options,s),B.transforms.forEach(function(t){c(t)&&(t=B.transform[t]),u(t)&&(n=function(t,e,n){return function(r){return t.call(n,r,e)}}(t,n,r.$vm))}),n(s)}function x(t,e,n){var r,s=Ft(e),i=h(e);p(e,function(e,o){r=l(e)||Ft(e),n&&(o=n+"["+(i||r?o:"")+"]"),!n&&s?t.add(e.name,e.value):r?x(t,e,o):t.add(o,e)})}function _(t){return new i(function(e){var n=new XDomainRequest,r=function(r){var s=r.type,i=0;"load"===s?i=200:"error"===s&&(i=500),e(t.respondWith(n.responseText,{status:i}))};t.abort=function(){return n.abort()},n.open(t.method,t.getUrl()),t.timeout&&(n.timeout=t.timeout),n.onload=r,n.onabort=r,n.onerror=r,n.ontimeout=r,n.onprogress=function(){},n.send(t.getBody())})}function C(t){return new i(function(e){var n,r,s=t.jsonp||"callback",i=t.jsonpCallback||"_jsonp"+Math.random().toString(36).substr(2),o=null;n=function(n){var s=n.type,a=0;"load"===s&&null!==o?a=200:"error"===s&&(a=500),a&&window[i]&&(delete window[i],document.body.removeChild(r)),e(t.respondWith(o,{status:a}))},window[i]=function(t){o=JSON.stringify(t)},t.abort=function(){n({type:"abort"})},t.params[s]=i,t.timeout&&setTimeout(t.abort,t.timeout),(r=document.createElement("script")).src=t.getUrl(),r.type="text/javascript",r.async=!0,r.onload=n,r.onerror=n,document.body.appendChild(r)})}function b(t){function e(e){return new i(function(i,o){function a(){u(n=r.pop())?n.call(t,e,c):(!function(t){"undefined"!=typeof console&&Gt&&console.warn("[VueResource warn]: "+t)}("Invalid interceptor of type "+typeof n+", must be a function"),c())}function c(e){if(u(e))s.unshift(e);else if(l(e))return s.forEach(function(n){e=d(e,function(e){return n.call(t,e)||e},o)}),void d(e,i,o);a()}a()},t)}var n,r=[w],s=[];return l(t)||(t=null),e.use=function(t){r.push(t)},e}function w(t,e){e((t.client||(qt?function(t){return new i(function(e){var n=new XMLHttpRequest,r=function(r){var s=t.respondWith("response"in n?n.response:n.responseText,{status:1223===n.status?204:n.status,statusText:1223===n.status?"No Content":o(n.statusText)});p(o(n.getAllResponseHeaders()).split("\n"),function(t){s.headers.append(t.slice(0,t.indexOf(":")),t.slice(t.indexOf(":")+1))}),e(s)};t.abort=function(){return n.abort()},t.progress&&("GET"===t.method?n.addEventListener("progress",t.progress):/^(POST|PUT)$/i.test(t.method)&&n.upload.addEventListener("progress",t.progress)),n.open(t.method,t.getUrl(),!0),t.timeout&&(n.timeout=t.timeout),t.responseType&&"responseType"in n&&(n.responseType=t.responseType),(t.withCredentials||t.credentials)&&(n.withCredentials=!0),t.crossOrigin||t.headers.set("X-Requested-With","XMLHttpRequest"),t.headers.forEach(function(t,e){n.setRequestHeader(e,t)}),n.onload=r,n.onabort=r,n.onerror=r,n.ontimeout=r,n.send(t.getBody())})}:function(t){var e=n(0);return new i(function(n){var r,s=t.getUrl(),i=t.getBody(),a=t.method,c={};t.headers.forEach(function(t,e){c[e]=t}),e(s,{body:i,method:a,headers:c}).then(r=function(e){var r=t.respondWith(e.body,{status:e.statusCode,statusText:o(e.statusMessage)});p(e.headers,function(t,e){r.headers.set(e,t)}),n(r)},function(t){return r(t.response)})})}))(t))}function S(t,e){return Object.keys(t).reduce(function(t,n){return a(e)===a(n)?n:t},null)}function Q(t){var e=this||{},n=b(e.$vm);return function(t){Zt.call(arguments,1).forEach(function(e){for(var n in e)void 0===t[n]&&(t[n]=e[n])})}(t||{},e.$options,Q.options),Q.interceptors.forEach(function(t){c(t)&&(t=Q.interceptor[t]),u(t)&&n.use(t)}),n(new ne(t)).then(function(t){return t.ok?t:i.reject(t)},function(t){return t instanceof Error&&function(t){"undefined"!=typeof console&&console.error(t)}(t),i.reject(t)})}function k(t,e,n,r){var s=this||{},i={};return n=Kt({},k.actions,n),p(n,function(n,o){n=g({url:t,params:Kt({},e)},r,n),i[o]=function(){return(s.$http||Q)(function(t,e){var n,r=Kt({},t),s={};switch(e.length){case 2:s=e[0],n=e[1];break;case 1:/^(POST|PUT|PATCH)$/i.test(r.method)?n=e[0]:s=e[0];break;case 0:break;default:throw"Expected up to 2 arguments [params, body], got "+e.length+" arguments"}return r.body=n,r.params=Kt({},r.params,s),r}(n,arguments))}}),i}function O(t){O.installed||(!function(t){var e=t.config,n=t.nextTick;Jt=n,Gt=e.debug||!e.silent}(t),t.url=B,t.http=Q,t.resource=k,t.Promise=i,Object.defineProperties(t.prototype,{$url:{get:function(){return f(t.url,this,this.$options.url)}},$http:{get:function(){return f(t.http,this,this.$options.http)}},$resource:{get:function(){return t.resource.bind(this)}},$promise:{get:function(){var e=this;return function(n){return new t.Promise(n,e)}}}}))}Object.defineProperty(e,"__esModule",{value:!0});var D=n("7+uW"),H=n("NYxO"),j=n("nqYh"),L=n("Xxa5"),T=n.n(L),P=n("d7EF"),W=n.n(P),N=n("exGp"),Y=n.n(N),z=n("//Fk"),U=n.n(z),M=n("bOdI"),R=n.n(M),$=n("/ocq"),J={name:"Glass",props:{bg:String,padding:String},data:function(){return{msg:"Welcome to Your Vue.js App"}}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"glass"},[n("div",{staticClass:"box tinted"},[n("div",{staticClass:"header blurred-bg"},[n("span",{staticClass:"header-left"},[t._t("header-left")],2),t._v(" "),n("span",{staticClass:"header-right"},[t._t("header-right")],2),t._v(" "),t._t("header")],2),t._v(" "),n("div",{staticClass:"content blurred-bg shaded",style:{padding:""+t.padding}},[t._t("default")],2)])])},staticRenderFns:[]},Z=n("VU/8")(J,V,!1,function(t){n("lJjd")},"data-v-c661046a",null).exports,G={name:"Avatar",props:{src:String,name:String,size:Number,mask:String}},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"avatar",style:{width:t.size+"px"}},[t.src?n("img",{style:{height:t.size+"px",width:t.size+"px"},attrs:{src:t.src,alt:t.src}}):t._e(),t._v(" "),t.src?t._e():n("div",{staticClass:"placeholder",style:{height:t.size+"px",width:t.size+"px",backgroundColor:"rbga(216,216,216,0.2)"}}),t._v(" "),n("span",{staticClass:"name",attrs:{"v:if":"name"}},[t._v(" \n\t"+t._s(t.name)+" \n\t")]),t._v(" "),t.mask?n("div",{staticClass:"mask"},[t._v("\n\t\t"+t._s(t.mask)+"\n\t")]):t._e()])},staticRenderFns:[]},F=n("VU/8")(G,q,!1,function(t){n("w+Kx")},"data-v-39872602",null).exports,K=n("jWhC"),X=n.n(K),tt=n("HfaK"),et=n.n(tt),nt={name:"CheckIn",components:{Glass:Z,Avatar:F},data:function(){return{qrcode:X.a,avatarImg:et.a}}},rt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("glass",[r("span",{attrs:{slot:"header"},slot:"header"},[t._v("签到进场")]),t._v(" "),r("img",{staticStyle:{height:"200px",width:"200px"},attrs:{src:n("jWhC")}}),t._v(" "),r("p",{staticStyle:{"font-size":"24px"}},[t._v(" 微信扫一扫签到 ")])]),t._v(" "),r("glass",[r("span",{attrs:{slot:"header-left"},slot:"header-left"},[t._v("抽奖")]),t._v(" "),r("span",{attrs:{slot:"header-right"},slot:"header-right"},[t._v("109人参与")]),t._v(" "),r("avatar",{staticClass:"lg",attrs:{src:t.avatarImg}})],1)],1)},staticRenderFns:[]},st=n("VU/8")(nt,rt,!1,function(t){n("l5P5")},null,null).exports,it={name:"Vote",components:{Glass:Z,Avatar:F},data:function(){return{qrcode:X.a,avatarImg:et.a}}},ot={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},at=n("VU/8")(it,ot,!1,function(t){n("Caf/")},null,null).exports,ct=n("Dd8w"),ut=n.n(ct),lt={render:function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"xl button glass-button blurred-bg"},[this._t("default")],2)},staticRenderFns:[]},ht=n("VU/8")({name:"GlassButton",props:{},data:function(){return{}}},lt,!1,function(t){n("WjzM")},"data-v-46751b44",null).exports,dt={name:"VoteBefore",components:{Glass:Z,Avatar:F,GlassButton:ht},data:function(){return{avatarImg:et.a,groupIndex:0}},computed:ut()({},Object(H.c)("activity",["votes"]),{candidates:function(){return this.votes[this.groupIndex].items}}),created:function(){var t=this;return Y()(T.a.mark(function e(){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()}},ft={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("glass",[e("span",{attrs:{slot:"header"},slot:"header"},[this._v("扫码投票")]),this._v(" "),e("img",{staticStyle:{height:"200px",width:"200px"},attrs:{src:n("jWhC")}}),this._v(" "),e("p",{staticStyle:{"font-size":"24px"}},[this._v(" 微信扫一扫投票 ")])]),this._v(" "),e("glass",[e("span",{attrs:{slot:"header-left"},slot:"header-left"},[this._v("投票")]),this._v(" "),e("span",{attrs:{slot:"header-right"},slot:"header-right"},[this._v("109人参与")]),this._v(" "),e("div",{staticClass:"main"},this._l(this.candidates,function(t){return e("avatar",{key:t.title,staticClass:"xl",attrs:{src:t.image_url,name:t.title}})}))])],1)},staticRenderFns:[]},pt=n("VU/8")(dt,ft,!1,function(t){n("0+7K")},null,null).exports,gt={name:"Bar",props:{value:Number,max:Number,color:{type:String,default:"orange"}},computed:{radio:function(){return this.value/this.max*100}}},mt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bar"},[e("div",{staticClass:"bar-outter"},[e("div",{staticClass:"bar-inner",style:{width:this.radio+"%",backgroundColor:""+this.color}})]),this._v(" "),e("div",{staticClass:"number"},[this._v(this._s(this.value))])])},staticRenderFns:[]},vt={name:"VoteDuring",components:{Glass:Z,Avatar:F,Bar:n("VU/8")(gt,mt,!1,function(t){n("8WoC")},"data-v-7dbd87be",null).exports},computed:ut()({},Object(H.c)(["candidates","totalVotes"]),Object(H.b)(["getVoteNumByName"])),data:function(){return{avatarImg:et.a}}},yt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("glass",[n("span",{attrs:{slot:"header-left"},slot:"header-left"},[t._v("A组选手投票")]),t._v(" "),n("span",{attrs:{slot:"header-right"},slot:"header-right"},[t._v("580/600已投票")]),t._v(" "),n("div",{staticClass:"main"},t._l(t.candidates,function(e){return n("div",{staticClass:"row"},[n("div",{staticClass:"row-inner"},[n("avatar",{staticClass:"lg",attrs:{src:t.avatarImg,name:e.name}}),t._v(" "),n("div",{staticClass:"bar-container"},[n("bar",{attrs:{value:t.getVoteNumByName(e.name),max:t.totalVotes}})],1)],1)])}))])},staticRenderFns:[]},At=n("VU/8")(vt,yt,!1,function(t){n("PwTW")},"data-v-6de85ec4",null).exports,Et=n("Gu7T"),It=n.n(Et),Bt={name:"Honeycomb",props:{colWidth:{type:Number,default:40}}},xt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"honeycomb",style:{gridAutoColumns:this.colWidth/2+"px"}},[this._t("default")],2)},staticRenderFns:[]},_t=n("VU/8")(Bt,xt,!1,function(t){n("uY94")},"data-v-06e2c048",null).exports,Ct=n("BO1k"),bt=n.n(Ct),wt=["LOAD_ACTIVITY","LOAD_USERS","ADD_WINNER"],St={},Qt=!0,kt=!1,Ot=void 0;try{for(var Dt,Ht=bt()(wt);!(Qt=(Dt=Ht.next()).done);Qt=!0){var jt=Dt.value;St[jt]=jt}}catch(t){kt=!0,Ot=t}finally{try{!Qt&&Ht.return&&Ht.return()}finally{if(kt)throw Ot}}var Lt=St,Tt={name:"Lottery",components:{Glass:Z,Avatar:F,Honeycomb:_t,GlassButton:ht},data:function(){return{qrcode:X.a,avatarImg:et.a,users:[{_id:"",info:{avatar_url:"",name:""}}],row:6,colWidth:40,threshhold:8,swapColumn:6,autoPlay:!0,winnerIndex:0,intervalId:"",lotteryStartIndex:0,isPlaying:!1,currentPrize:2}},computed:ut()({},Object(H.c)("activity",{storedUsers:"users"}),Object(H.b)("activity",["prizeWinners"]),Object(H.c)(["prizeNum","prizeName"]),{winner:function(){var t=this.prizeWinners[this.currentPrize],e=t[t.length-1],n=this.users.length-1;return this.winnerIndex>n&&(this.winnerIndex=n),this.isPlaying?this.users[this.winnerIndex]:e||this.users[this.winnerIndex]},lotteryEndIndex:function(){return this.users.length-1}}),created:function(){var t=this;return Y()(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.users=t.storedUsers;case 1:case"end":return e.stop()}},e,t)}))()},mounted:function(){this.autoScroll()},watch:{autoPlay:function(t){clearTimeout(this.autoScrollIntervalId),t&&this.autoScroll()}},methods:{autoScroll:function(){var t=this.$el.querySelector(".y-scroller");t&&(this.autoScrollIntervalId=setInterval(function(){t.scrollBy({left:1,behavior:"smooth"})},50))},onScroll:function(t,e){if(!(e.scrollLeft/this.colWidth<this.threshhold)){var n=this.users,r=this.row*this.swapColumn,s=n.slice(0,r);n.splice(0,r),n.splice.apply(n,[n.length-1,0].concat(It()(s))),this.users=n,t.target.scrollLeft=(this.threshhold-this.swapColumn)*this.colWidth}},play:function(){var t=this;this.prizeWinners[this.currentPrize].length>=this.prizeNum[this.currentPrize]||(console.log("play"),this.autoPlay=!1,this.scrollIntervalId=setInterval(function(){t.$el.querySelector(".y-scroller").scrollBy({left:100,behavior:"smooth"})},80),this.playIntervalId=setInterval(function(){t.winnerIndex=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}(t.lotteryStartIndex,t.lotteryEndIndex)},200),this.isPlaying=!0)},pause:function(){console.log("pause"),clearTimeout(this.playIntervalId),clearTimeout(this.scrollIntervalId),this.$store.commit("activity/"+Lt.ADD_WINNER,{level:this.currentPrize,user:this.winner}),this.users.splice(this.winnerIndex,1),this.prizeWinners[this.currentPrize].length>=this.prizeNum[this.currentPrize]&&this.currentPrize>0&&this.currentPrize--,this.isPlaying=!1}},sockets:{connect:function(){console.log("Lottery socket connected")},lotteryPlay:function(t){console.log("lotteryPlay"),this.play()},lotteryPause:function(t){console.log("lotteryPause"),this.pause()}}},Pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",[n("glass",[n("span",{attrs:{slot:"header"},slot:"header"},[t._v("中奖名单")]),t._v(" "),n("div",{staticClass:"side"},[n("h4",[t._v(t._s(t.prizeName[0]))]),t._v(" "),n("div",{staticClass:"grid"},t._l(t.prizeWinners[0],function(t){return n("avatar",{key:t._id,attrs:{src:t.info.avatar_url,name:t.info.name}})})),t._v(" "),n("h4",[t._v(t._s(t.prizeName[1]))]),t._v(" "),n("div",{staticClass:"grid"},t._l(t.prizeWinners[1],function(t){return n("avatar",{key:t._id,attrs:{src:t.info.avatar_url,name:t.info.name}})})),t._v(" "),n("h4",[t._v(t._s(t.prizeName[2]))]),t._v(" "),n("div",{staticClass:"grid"},t._l(t.prizeWinners[2],function(t){return n("avatar",{key:t._id,attrs:{src:t.info.avatar_url,name:t.info.name}})})),t._v(" "),n("h4",[t._v(t._s(t.prizeName[3]))]),t._v(" "),n("div",{staticClass:"grid"},t._l(t.prizeWinners[3],function(t){return n("avatar",{key:t._id,attrs:{src:t.info.avatar_url,name:t.info.name}})}))])])],1),t._v(" "),n("div",[n("glass",[n("span",{attrs:{slot:"header-left"},slot:"header-left"},[t._v("投票")]),t._v(" "),n("span",{attrs:{slot:"header-right"},slot:"header-right"},[t._v("109人参与")]),t._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"top"},[n("h3",[t._v(" "+t._s(t.prizeName[t.currentPrize])+"获奖者 ")]),t._v(" "),n("avatar",{staticClass:"lg",attrs:{src:t.winner.info.avatar_url,name:t.winner.info.name}}),t._v(" "),n("glass-button",{nativeOn:{click:function(e){t.isPlaying?t.pause():t.play()}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.isPlaying?"停止抽奖":"开始抽奖")+"\n\t\t\t\t\t")])],1),t._v(" "),n("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"}],staticClass:"y-scroller"},[n("honeycomb",{class:"row-"+t.row,attrs:{colWidth:t.colWidth}},t._l(t.users,function(e,r){return n("div",{key:e._id},[n("avatar",{staticClass:"sm",class:{selected:r==t.winnerIndex},attrs:{src:e.info.avatar_url}})],1)}))],1)])])],1)])},staticRenderFns:[]},Wt=n("VU/8")(Tt,Pt,!1,function(t){n("2ODB")},"data-v-4d6d1f32",null).exports;D.a.use($.a);var Nt=new $.a({routes:[{path:"/check-in",component:st},{path:"/vote",component:at,children:[{path:"",redirect:"before"},{path:"before",component:pt},{path:"during",component:At}]},{path:"/lottery",component:Wt}]}),Yt=n("hMcO"),zt=n.n(Yt),Ut={activityId:"5a53213c2c8c6208fcb9f4d5",connect:!1,message:null,totalVotes:600,users:[{_id:"",info:{avatarUrl:"",name:""}}],candidates:[{name:"魏澍榕",voters:[""]},{name:"李雨",voters:[""]}],prizeName:["特等奖","一等奖","二等奖","三等奖"],prizeNum:[1,2,3,4],prizeWinners:[[],[],[],[]]},Mt=2;s.reject=function(t){return new s(function(e,n){n(t)})},s.resolve=function(t){return new s(function(e,n){e(t)})},s.all=function(t){return new s(function(e,n){function r(n){return function(r){o[n]=r,(i+=1)===t.length&&e(o)}}var i=0,o=[];0===t.length&&e(o);for(var a=0;a<t.length;a+=1)s.resolve(t[a]).then(r(a),n)})},s.race=function(t){return new s(function(e,n){for(var r=0;r<t.length;r+=1)s.resolve(t[r]).then(e,n)})};var Rt=s.prototype;Rt.resolve=function(t){var e=this;if(e.state===Mt){if(t===e)throw new TypeError("Promise settled with itself.");var n=!1;try{var r=t&&t.then;if(null!==t&&"object"==typeof t&&"function"==typeof r)return void r.call(t,function(t){n||e.resolve(t),n=!0},function(t){n||e.reject(t),n=!0})}catch(t){return void(n||e.reject(t))}e.state=0,e.value=t,e.notify()}},Rt.reject=function(t){if(this.state===Mt){if(t===this)throw new TypeError("Promise settled with itself.");this.state=1,this.value=t,this.notify()}},Rt.notify=function(){var t=this;!function(t,e){Jt(t,e)}(function(){if(t.state!==Mt)for(;t.deferred.length;){var e=t.deferred.shift(),n=e[0],r=e[1],s=e[2],i=e[3];try{0===t.state?s("function"==typeof n?n.call(void 0,t.value):t.value):1===t.state&&("function"==typeof r?s(r.call(void 0,t.value)):i(t.value))}catch(t){i(t)}}})},Rt.then=function(t,e){var n=this;return new s(function(r,s){n.deferred.push([t,e,r,s]),n.notify()})},Rt.catch=function(t){return this.then(void 0,t)},"undefined"==typeof Promise&&(window.Promise=s),i.all=function(t,e){return new i(Promise.all(t),e)},i.resolve=function(t,e){return new i(Promise.resolve(t),e)},i.reject=function(t,e){return new i(Promise.reject(t),e)},i.race=function(t,e){return new i(Promise.race(t),e)};var $t=i.prototype;$t.bind=function(t){return this.context=t,this},$t.then=function(t,e){return t&&t.bind&&this.context&&(t=t.bind(this.context)),e&&e.bind&&this.context&&(e=e.bind(this.context)),new i(this.promise.then(t,e),this.context)},$t.catch=function(t){return t&&t.bind&&this.context&&(t=t.bind(this.context)),new i(this.promise.catch(t),this.context)},$t.finally=function(t){return this.then(function(e){return t.call(this),e},function(e){return t.call(this),Promise.reject(e)})};var Jt,Vt={}.hasOwnProperty,Zt=[].slice,Gt=!1,qt="undefined"!=typeof window,Ft=Array.isArray,Kt=Object.assign||function(t){return Zt.call(arguments,1).forEach(function(e){m(t,e)}),t};B.options={url:"",root:null,params:{}},B.transform={template:function(t){var e=[],n=v(t.url,t.params,e);return e.forEach(function(e){delete t.params[e]}),n},query:function(t,e){var n=Object.keys(B.options.params),r={},s=e(t);return p(t.params,function(t,e){-1===n.indexOf(e)&&(r[e]=t)}),(r=B.params(r))&&(s+=(-1==s.indexOf("?")?"?":"&")+r),s},root:function(t,e){var n=e(t);return c(t.root)&&!/^(https?:)?\//.test(n)&&(n=function(t,e){return t&&void 0===e?t.replace(/\s+$/,""):t&&e?t.replace(new RegExp("["+e+"]+$"),""):t}(t.root,"/")+"/"+n),n}},B.transforms=["template","query","root"],B.params=function(t){var e=[],n=encodeURIComponent;return e.add=function(t,e){u(e)&&(e=e()),null===e&&(e=""),this.push(n(t)+"="+n(e))},x(e,t),e.join("&").replace(/%20/g,"+")},B.parse=function(t){var e=document.createElement("a");return document.documentMode&&(e.href=t,t=e.href),e.href=t,{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",port:e.port,host:e.host,hostname:e.hostname,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):""}};var Xt=qt&&"withCredentials"in new XMLHttpRequest,te=function(t){var e=this;this.map={},p(t,function(t,n){return e.append(n,t)})};te.prototype.has=function(t){return null!==S(this.map,t)},te.prototype.get=function(t){var e=this.map[S(this.map,t)];return e?e.join():null},te.prototype.getAll=function(t){return this.map[S(this.map,t)]||[]},te.prototype.set=function(t,e){this.map[function(t){if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return o(t)}(S(this.map,t)||t)]=[o(e)]},te.prototype.append=function(t,e){var n=this.map[S(this.map,t)];n?n.push(o(e)):this.set(t,e)},te.prototype.delete=function(t){delete this.map[S(this.map,t)]},te.prototype.deleteAll=function(){this.map={}},te.prototype.forEach=function(t,e){var n=this;p(this.map,function(r,s){p(r,function(r){return t.call(e,r,s,n)})})};var ee=function(t,e){var n=e.url,r=e.headers,s=e.status,o=e.statusText;this.url=n,this.ok=s>=200&&s<300,this.status=s||0,this.statusText=o||"",this.headers=new te(r),this.body=t,c(t)?this.bodyText=t:function(t){return"undefined"!=typeof Blob&&t instanceof Blob}(t)&&(this.bodyBlob=t,function(t){return 0===t.type.indexOf("text")||-1!==t.type.indexOf("json")}(t)&&(this.bodyText=function(t){return new i(function(e){var n=new FileReader;n.readAsText(t),n.onload=function(){e(n.result)}})}(t)))};ee.prototype.blob=function(){return d(this.bodyBlob)},ee.prototype.text=function(){return d(this.bodyText)},ee.prototype.json=function(){return d(this.text(),function(t){return JSON.parse(t)})},Object.defineProperty(ee.prototype,"data",{get:function(){return this.body},set:function(t){this.body=t}});var ne=function(t){this.body=null,this.params={},Kt(this,t,{method:function(t){return t?t.toUpperCase():""}(t.method||"GET")}),this.headers instanceof te||(this.headers=new te(this.headers))};ne.prototype.getUrl=function(){return B(this)},ne.prototype.getBody=function(){return this.body},ne.prototype.respondWith=function(t,e){return new ee(t,Kt(e||{},{url:this.getUrl()}))};var re={"Content-Type":"application/json;charset=utf-8"};Q.options={},Q.headers={put:re,post:re,patch:re,delete:re,common:{Accept:"application/json, text/plain, */*"},custom:{}},Q.interceptor={before:function(t,e){u(t.before)&&t.before.call(this,t),e()},method:function(t,e){t.emulateHTTP&&/^(PUT|PATCH|DELETE)$/i.test(t.method)&&(t.headers.set("X-HTTP-Method-Override",t.method),t.method="POST"),e()},jsonp:function(t,e){"JSONP"==t.method&&(t.client=C),e()},json:function(t,e){var n=t.headers.get("Content-Type")||"";l(t.body)&&0===n.indexOf("application/json")&&(t.body=JSON.stringify(t.body)),e(function(t){return t.bodyText?d(t.text(),function(e){if(0===(n=t.headers.get("Content-Type")||"").indexOf("application/json")||function(t){var e=t.match(/^\s*(\[|\{)/);return e&&{"[":/]\s*$/,"{":/}\s*$/}[e[1]].test(t)}(e))try{t.body=JSON.parse(e)}catch(e){t.body=null}else t.body=e;return t}):t})},form:function(t,e){!function(t){return"undefined"!=typeof FormData&&t instanceof FormData}(t.body)?l(t.body)&&t.emulateJSON&&(t.body=B.params(t.body),t.headers.set("Content-Type","application/x-www-form-urlencoded")):t.headers.delete("Content-Type"),e()},header:function(t,e){p(Kt({},Q.headers.common,t.crossOrigin?{}:Q.headers.custom,Q.headers[a(t.method)]),function(e,n){t.headers.has(n)||t.headers.set(n,e)}),e()},cors:function(t,e){if(qt){var n=B.parse(location.href),r=B.parse(t.getUrl());r.protocol===n.protocol&&r.host===n.host||(t.crossOrigin=!0,t.emulateHTTP=!1,Xt||(t.client=_))}e()}},Q.interceptors=["before","method","jsonp","json","form","header","cors"],["get","delete","head","jsonp"].forEach(function(t){Q[t]=function(e,n){return this(Kt(n||{},{url:e,method:t}))}}),["post","put","patch"].forEach(function(t){Q[t]=function(e,n,r){return this(Kt(r||{},{url:e,method:t,body:n}))}}),k.actions={get:{method:"GET"},save:{method:"POST"},query:{method:"GET"},update:{method:"PUT"},remove:{method:"DELETE"},delete:{method:"DELETE"}},"undefined"!=typeof window&&window.Vue&&window.Vue.use(O);var se,ie=O,oe=this;D.a.use(ie);var ae,ce=D.a.resource("activities{/id}"),ue={namespaced:!0,state:{config:{title:"2017年福信集团年会",adress:"暂无地址",headImg_url:"http://image.yylhealth.com/%E5%A4%B4%E5%9B%BE.png",backgroundImg_url:"http://image.yylhealth.com/%E5%96%9C%E8%BF%8E%E5%8D%8E%E8%AF%9E.jpeg",longitude:"",latitude:"",checkInControl:"none",votesControl:[0,0,0]},users:[{_id:"0",info:{avatar_url:"http://image.yylhealth.com/%E5%8D%81%E5%85%83.jpeg",name:"Yui"}},{_id:"1",info:{avatar_url:"http://image.yylhealth.com/%E5%8D%81%E5%85%83.jpeg",name:"Yuki"}},{_id:"2",info:{avatar_url:"http://image.yylhealth.com/%E5%8D%81%E5%85%83.jpeg",name:"Yuki"}},{_id:"3",info:{avatar_url:"http://image.yylhealth.com/%E5%8D%81%E5%85%83.jpeg",name:"Yuki"}},{_id:"4",info:{avatar_url:"http://image.yylhealth.com/%E5%8D%81%E5%85%83.jpeg",name:"Yuki"}},{_id:"5",info:{avatar_url:"http://image.yylhealth.com/%E5%8D%81%E5%85%83.jpeg",name:"Yuki"}},{_id:"6",info:{avatar_url:"http://image.yylhealth.com/%E5%8D%81%E5%85%83.jpeg",name:"Yuki"}},{_id:"7",info:{avatar_url:"http://image.yylhealth.com/%E5%8D%81%E5%85%83.jpeg",name:"Yuki"}},{_id:"8",info:{avatar_url:"http://image.yylhealth.com/%E5%8D%81%E5%85%83.jpeg",name:"Yuki"}}],draws:[{title:"特等奖：iPhone X",image_url:"",num:1,winners:[]},{title:"一等奖：iPhone 8",image_url:"",num:5,winners:[]},{title:"二等奖：iPad",image_url:"",num:10,winners:[]}],votes:[{title:"A组选手对决",items:[{title:"张宁",image_url:"http://image.yylhealth.com/%E5%8D%81%E5%85%83.jpeg",voters:[],bonus:0},{title:"黄滢",image_url:"http://image.yylhealth.com/%E6%96%B0%E6%A2%97.jpeg",voters:[],bonus:0}]},{title:"B组选手对决",items:[{title:"郑俊杰",image_url:"http://image.yylhealth.com/%E5%90%B4%E4%BA%A6%E5%87%A1.jpeg",voters:[],bonus:0},{title:"何广明",image_url:"http://image.yylhealth.com/%E5%90%B4%E5%BD%A6%E7%A5%96.jpeg",voters:[],bonus:0}]},{title:"C组选手对决",items:[{title:"石溪",image_url:"http://image.yylhealth.com/%E5%90%B4%E4%BA%A6%E5%87%A1.jpeg",voters:[],bonus:0},{title:"赖德明",image_url:"http://image.yylhealth.com/%E5%90%B4%E5%BD%A6%E7%A5%96.jpeg",voters:[],bonus:0}]}]},getters:{prizeWinners:function(t){return t.draws.map(function(t){return t.winners})}},mutations:(se={},R()(se,Lt.ADD_WINNER,function(t,e){var n=e.level,r=e.user;t.draws[n].winners.push(r)}),R()(se,Lt.LOAD_ACTIVITY,function(t,e){t.activity=e}),se),actions:{getActivity:function(t){var e=t.commit;return new U.a(function(){var t=Y()(T.a.mark(function t(n,s){var i,o,a,c,u;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Ut.activityId,t.next=3,r(ce.get({id:i}));case 3:if(o=t.sent,a=W()(o,2),c=a[0],u=a[1].body,!c){t.next=9;break}return t.abrupt("return");case 9:e(Lt.LOAD_ACTIVITY,u),n();case 11:case"end":return t.stop()}},t,oe)}));return function(e,n){return t.apply(this,arguments)}}())}}},le=this;D.a.use(ie),D.a.http.options.root="http://localhost:3000";var he=D.a.resource("users{/id}");D.a.use(H.a);var de=new H.a.Store({state:Ut,modules:{activity:ue},getters:{getCandidateByName:function(t){return function(e){return t.candidates.find(function(t){return t.name==e})||null}},getVoteNumByName:function(t){return function(e){return(t.candidates.find(function(t){return t.name==e})||[]).voters.length}}},mutations:(ae={},R()(ae,Lt.LOAD_USERS,function(t,e){this.state.users=e}),R()(ae,"SOCKET_CONNECT",function(t,e){t.connect=!0,console.log("socket connect built")}),R()(ae,"SOCKET_VOTED",function(t,e){var n=e.candidate,r=e.voter;console.log("voted");var s=t.candidates.find(function(t){return t.name==n});s&&s.voters.push(r)}),R()(ae,"SOCKET_VOTE_BEGIN",function(){console.log("vote_begin"),Nt.push("/vote/during")}),ae),actions:{getAllUsers:function(t){var e=t.commit;return new U.a(function(){var t=Y()(T.a.mark(function t(n,s){var i,o,a,c;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(he.get());case 2:if(i=t.sent,o=W()(i,2),a=o[0],c=o[1].body,!a){t.next=8;break}return t.abrupt("return");case 8:e(Lt.LOAD_USERS,c),n();case 10:case"end":return t.stop()}},t,le)}));return function(e,n){return t.apply(this,arguments)}}())},socket_userMessage:function(t,e){console.log("action",e),t.dispatch("newMessage",e),t.commit("NEW_MESSAGE_RECEIVED",e),e.is_important&&t.dispatch("alertImportantMessage",e)}}});D.a.use(zt.a,"http://118.25.21.169:3000",de);var fe={name:"app",store:de},pe={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},ge=n("VU/8")(fe,pe,!1,function(t){n("+3N7")},null,null).exports;D.a.use(H.a),D.a.use(j.a),D.a.config.productionTip=!1,new D.a({el:"#app",router:Nt,template:"<App/>",components:{App:ge}})},PwTW:function(t,e){},WjzM:function(t,e){},jWhC:function(t,e,n){t.exports=n.p+"static/img/qrcode.ac6b858.png"},l5P5:function(t,e){},lJjd:function(t,e){},uY94:function(t,e){},"w+Kx":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.40e0083a007e555326e4.js.map